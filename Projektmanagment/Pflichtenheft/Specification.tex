%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% @file		Specification.tex
%% @author		Christopher Reiterer
%% @date		18.03.2015
%% @brief		Specification template
%% @remarks		-
%% @version		1.0
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{Definitions}

\begin{document}

\input{./TitlePage.tex}

\setcounter{secnumdepth}{0}		%disable numbering for this section
\csection{Revisions}

\begin{tabular}{!{\VRule[1.7pt]} p{1.9cm} | p{1.9cm} | p{7cm} | p{4.5cm} !{\VRule[1.7pt]}}

\specialrule{1.9pt}{0pt}{0pt} 
\cellcolor{lightgray!130}\textbf{Version} & 
\cellcolor{lightgray!130}\textbf{Datum} & 
\cellcolor{lightgray!130}\textbf{Kommentar} & 
\cellcolor{lightgray!130}\textbf{Autor} \\
\hline
00.00.00 & 
dd.mm.yy & 
Information about the revision. This table does not need to be filled in whenever a document is touched, only when the \textbf{version is being upgraded.} & 
Name \\
\hline
&&& \\
\specialrule{1.7pt}{0pt}{0pt} 

\end{tabular}
\\[0.7cm]
\noindent \{ The paragraphs written in the “Comment” style are for explanations and help for the document writer and should be removed in the “real” document. \\[-0.3cm]

\noindent This template can be used to create Software Requirements Specifications that conform to IEEE Standard 830-1993. \\[-0.3cm]

\noindent An SRS is a tool for capturing requirements on a project; it is the epitome of “plain language requirements”. Although an SRS is designed to stand on its own, most projects will employ additional tools for capturing requirements. An SRS may be ancillary or unnecessary on many projects, but a partial or lightweight one may be quite useful even if other techniques are being used to capture the bulk of the requirements. \\[-0.3cm]

\noindent Consider using an SRS when: \\[0.1cm]
Modeling techniques need to be augmented \\[0.1cm]
Plain language is the best mechanism for capturing system behavior \\[0.1cm]
Requirements must be traceable \\[0.1cm]
Required by regulations\}

\newpage
\renewcommand*\contentsname{\hfill Inhaltsverzeichnis \hfill} %center the title of the table of contents
\tableofcontents
\newpage

\setcounter{secnumdepth}{3} 		%enable section numbering
\section{Einleitung}
\subsection{Sinn und Zweck}
Extremsportler aller Art setzen sich tagtäglich einer nicht kalkulierbaren Gefahr aus. Was wäre, wenn der Ernstfall eintritt? Wie werden sie gerettet? Wie werden sie gefunden? Wie können sie einen Notruf absetzen? Für Schiffe, Autos und andere Fahrzeuge, aber auch Senioren gibt’s Notrufsysteme, im Extremsportbereich allerdings nur recht unhandliche (Blue Locar Ray…). Viele davon brauchen Empfangsstationen. Das mitschleppen einer Empfangsstation ist aber unpraktikabel. Wie wäre es nun mit einem kleinen, handlichen, tragbaren Gerät, welches einen satellitengestützten Notruf abgibt?\\[12pt]
Das Projekt zielt darauf ab, ein tragbares, wasserdichtes PLB-Gerät, im Idealfall ähnlich einer Uhr zu entwickeln. PLB steht für Personal Locator Beacons (PLBs) und es handelt sich hierbei um ein Gerät, mit welchem ein weltweiter (satellitengestützter) Notrufruf absetzbar ist. Im Zuge dieses Notrufs werden zudem die GPS-Koordinaten automatisiert durchgegeben. Hierbei handelt es sich aber nicht um einen Funkspruch(Audio), was dieses Konzept sehr interessant für ein solches Gerät macht, da es keine Nutzerinteraktion erfordert (Abgesehen vom Drücken eines Knopfes). \\[12pt]Die Zielgruppe des Gerätes findet sich in erster Linie bei den Wassersportlern wieder. Hier ist es wichtig, dass sich das Gerät leicht am Körper, an einer Stelle wo es nicht stört, montieren lässt, eine Uhrform wäre somit Ideal. Um die Projektkomplexität einzuschränken, soll der PLB nur den Satellitennotruf abgeben können, nicht aber das für PLB typische Suchsignal.
\subsection{Umfang und Anwendungsbereich}

\subsection{Definitionen und Abkürzungen}

\subsection{Referenzen}
List all the documents and other materials referenced in this document. This section is like the bibliography in a published book and my also be moved to the appendix.

\subsection{Prioritäten}

\begin{tabular}{| p{1.5cm} | p{2cm} | p{10cm} |}


\hline
\textbf{Priori-} \newline \textbf{tät} & 
\textbf{Abkür-} \newline \textbf{zung} & 
\textbf{Bedeutung} \\
\hline

Muss & 
M & 
Diese Anforderung ist unabdingbar und notwendig für das korrekte Funktionieren der Software; sie muss realisiert werden. \\
\hline

Soll &
S &
Diese Anforderung ist nicht unabdingbar ihre Realisierung trägt zur wesentlichen Verbesserung der Software bei. Sie soll wenn möglich realisiert werden. \\
\hline

Wunsch &
W &
Diese Anforderung trägt zur Verbesserung der Software bei, ist jedoch nicht unbedingt notwendig. Es wäre aus wünschenswert, wenn die Anforderung realisiert würde. \\
\hline

\end{tabular}

\subsection{Übersicht}
Describe the content and organization of the rest of this document.

\newpage

\section{Allgemeine Beschreibung}
In this section, describe the general factors that affect the product and its requirements. This section should contain background information, not state specific requirements.

\subsection{Beziehung zu anderen Systemen}
This section should place the product in perspective with other related products. If the product is independent and self-contained, state that here. Otherwise, identify interfaces between the product and related systems.

\subsubsection{Systemschnittstellen}
List each system interface and identify the related functionality of the product.

\subsubsection{Benutzerschnittstellen}
Specify the logical characteristics of each interface between the software product and its users (e.g., required screen formats, report layouts, menu structures, or function keys). \\[-0.3cm]

\noindent Specify all the aspects of optimizing the interface with the person who must use the system (e.g., required functionality to provide long or short error messages). This could be a list of do’s and don’ts describing how the system will appear to the user.

\subsubsection{Hardwareschnittstellen}
Die folgenden Schnittstellen werden verwendet:
\begin{itemize}
\item UART, zur Kommunikation zwischen STM32 Mikrocontroller und 
	\begin{enumerate}
	\item GPS-Modul
	\item Bluetooth-Modul 
	\item USB-to-Serial IC 
\end{enumerate}
\item I2C zur Kommunikation zwischen GPS-Modul und STM32, möglicherweise nicht notwendig da diese beiden Komponenten bereits über UART verbunden sind
\item Interface zwischen STM32 und 406MHz-Funksender, je nach Bauteilwahl wahrscheinlich SPI
\item SWD-Schnittstelle zum Programmieren/Debuggen des STM32
\end{itemize}


\subsubsection{Softwareschnittstellen}
Specify the use of other required software products (e.g., a DBMS or operating system), and interfaces with other application systems. \\[-0.3cm]

\noindent For each required software product, provide identification information including at least name, version number, and source. \\[-0.3cm]

\noindent For each interface, discuss the purpose of the interfacing software, and define the interface in terms of message format and content. For well-documented interfaces, simply provide a reference to the documentation. \\[-0.3cm]

\subsubsection{Kommunikationsschnittstellen}
Specify any interfaces to communications such as local area networks, etc.

\subsubsection{Speicher Bedingungen}
Specify any applicable characteristics and limits on RAM, disk space, etc.

\subsubsection{Operationen}
Specify any normal and special operations required by the user, including:
\begin{itemize}
	\item periods of interactive operations and periods of unattended operations
	\item data processing support functions
	\item backup and recovery operations
	\item etc.
\end{itemize}

\subsubsection{Installations- und Anpassungs-Anforderungen}
Define requirements for any data or initialization sequences that are specific to a given site, mission, or operational mode. Specify features that should be modified to adapt the software to a particular installation.

\subsection{Produkt Funktionen}
Die Bedienung des PLBs soll über 3 Tasten erfolgen. Ein Notruf wird mit einer Verzögerung von einer Minute abgesetzt, wenn beide Tasten gleichzeitig für 5 Sekunden gedrückt werden. Der Notruf kann sowohl innerhalb dieser Frist, als auch außerhalb durch gleichzeitiges Drücken beider Tasten für 10 Sekunden abgebrochen werden. 
Um den Nutzer mitzuteilen, dass ein Notruf angefordert wird, erfolgt kurzzeitiger (eine  halbe Sekunde lang) Vibrationsalarm. Zudem wird eine gelbe Status-led für eine Minute aktiviert. Nach erfolgreicher Absetzung des Notrufs wird für die gesamte Zeitdauer bis zum Abbruch des Notrufs eine grüne Status-led eingeschaltet. Wenn der Notruf aktiv ist, soll alle 3 Stunden für ca. 2 Sekunden ein Vibrationsalarm aktiviert werden. Falls der Notruf abgebrochen wird, dann muss der Vibrationsalarm für 5 Sekunden ausgelöst werden und die blaue Led leuchten bis zum Neustart des Systems oder bis zum erneuten Absetzen eines Notrufs.\\\
Die dritte Taste wird benutzt, um das Bluetooth Pairing einzuleiten. Wenn das PLB mit einem Gerät verbunden wird, wird eine blaue Led leuchten. Über Bluetooth werden die GPS Daten, Akkustand und Notrufstatus (wann ein Notruf abgesetzt und wann abgebrochen wurde, wie oft ein Notruf seit dem Neustart des Geräts abgesetzt wurde) ausgelesen.
\subsection{Benutzereigenschaften}
Die Anforderungen an den Benutzer sind wie folgt:
\begin{itemize}
	\item Keine spezielle Schulbildung erforderlich
	\item Keine Erfahrung erforderlich
	\item Kein technisches Wissen notwendig
	\item Grundlegendes Verständnis der deutschen Sprache in Schrift, da die Gebrauchsanleitung auf Deutsch geschrieben wird
	\item Geringfügige feinmechanische Fertigkeiten um das Ladekabel anstecken zu können bzw die Knöpfe betätigen zu können.
\end{itemize}

\subsection{Allgemeine Einschränkungen}
Describe any other items that will constrain the design options, including
\begin{itemize}
	\item reliability requirements
	\item criticality of the application
	\item safety and security considerations regulatory policies
	\item hardware limitations
	\item interfaces to other applications
	\item parallel operation
	\item audit functions
	\item control functions
	\item higher-order language requirements
	\item signal handshake protocols
	\item etc.
\end{itemize}

\subsection{Annahmen und Abhängigkeiten}
List factors that affect the requirements. These factors are not design constraints, but areas where future changes might drive change in the requirements.

\subsection{Realisierung der Anforderungen}
Identify any requirements that may be delayed until future versions of the system.

\newpage

\section{Externe Schnittstellen}
From this section on all software requirements should be described at a sufficient level of detail for designers to design a system satisfying the requirements and testers to verity that the system satisfies requirements. \\[-0.3cm]

\noindent The organization of the remainder of this sample document is derived from the A.5 Template of SRS Section 3 Organized by Feature shown in the Annex of Std 830-1993. For alternative organizational schemes by system mode, user class, object, stimulus, functional hierarchy, and combinations, see the standard. \\[-0.3cm]

\noindent Provide a detailed description of all inputs into and outputs from the software. This section should complement the interface descriptions under section 2.1 and should not repeat information there. Include both content and format as follows:
\begin{itemize}
	\item name of item
	\item description of purpose
	\item source of input or destination of output
	\item valid range, accuracy, and/or tolerance
	\item units of measure
	\item timing
	\item relationships to other inputs/outputs
	\item screen formats/organization
	\item window formats/organization
	\item data formats
	\item command formats
	\item end messages
\end{itemize}

\noindent These requirements may be organized in the following subsections. \\[0.1cm]
IMPORTANT: Number each item

\subsection{Benutzerschnittstellen}

\subsection{Hardwareschnittstellen}

\subsection{Kommunikationsschnittstellen}

Im Projekt gibt es verschiedene Kommunikationsschnittstellen:
\begin{itemize}
	\item COSPAS-SARSAT: Funkkommunikation mit Satelliten zum Absetzen von Notrufen
	\item GPS: Satellitenunterstützte Positionsbestimmung mittels GPS-Signalen
	\item USB: Mittels USB werden Debug-Ausgaben ohne dedizierten Debugger ermöglicht.
	\item Bluetooth LE: Zur Kommunikation mit der App wird eine Schnittstelle über Bluetooth LE (Low Energy) realisiert	
\end{itemize}

\subsubsection{COSPAS-SARSAT}

COSPAS-SARSAT ist ein internationales, satellitengestütztes Such- und Rettungssystem zur Erfassung und Lokalisierung von Notfunkbaken – EPIRB (Emergency Position Indicating Radio Beacon) für Schiffe, ELT (Emergency Locator Transmitter) für Luftfahrzeugen und PLB (Personal Locator Beacon) für die persönliche Verwendung.

Hierfür wird ein Sender für Notrufsignale umgesetzt, der Notrufe inklusive genauer Position senden kann.

\subsubsection{GPS}

Zur genauen Positionsbestimmung wird GPS eingesetzt. Dieses ermöglicht präzise Ortung Weltweit.
Hierfür wird ein fertiges GPS-Modul eingesetzt, da die Entwicklung eines eigenen Moduls keinen direkten Vorteil bringt, aber mit sehr hohem Aufwand verbunden wäre. Durch Einsatz eines bestehenden Moduls wird das Know-How des Herstellers genutzt.

\subsubsection{USB}

Der Hauptzweck der USB Schnittstelle ist laden des integrierten Akkus. Zusätzlich werden Debug-Ausgaben und optional folgende Debug-Funktionen zusätzlich realisiert:

\begin{itemize}
	\item Starten/Beenden des GPS-Positionsempfangs
	\item Abruf der zuletzt bekannten Position
	\item Testen von LEDs, Vibrationsmotor und Taster
	\item Abrufen des Aktuellen Status:
	\begin{itemize}
		\item Tasten gedrückt
		\item Notruf aktiv
		\item GPS Empfang aktiv
		\item Akkustand
	\end{itemize}
\end{itemize}

\subsubsection{Bluetooth LE}

Der Hauptzweck der App ist das Anzeigen der aktuellen GPS Position und folgender Systeminformationen:
\begin{itemize}
	\item Notruf aktiv
	\item GPS Empfang aktiv
	\item Akkustand
\end{itemize}

Zusätzlich kann optional noch folgendes hinzugefügt werden:

\begin{itemize}
	\item Starten/Beenden des GPS-Positionsempfangs
	\item Abruf der zuletzt bekannten Position
	\item Testen von LEDs, Vibrationsmotor und Taster
	\item Debug-Ausgaben
\end{itemize}

\newpage

\section{Funktionale Anforderungen}
\subsection{Allgemeine Verwendung des Projektes}
Das Projekt ist so angelegt, dass im Notfall mit dem PLB Gerät schnell und einfach einen COSPAS/SARSAT Notruf abzusetzen. \\\
Der Prototyp soll dahingehend Entwickelt werden, dass er später mit geringem Arbeitsaufwand zu einem tragbaren, in der Praxis einsetzbarem System weiterentwickelt werden kann.
Das heißt, das System soll in einem Temperaturbereich von -20 bis 40 Grad Celsius arbeiten können.
%\noindent Anyway the features as well as use cases should be structured according their granularity.
%\begin{itemize}
%	\item[--] few ''System Features`` containing functional requirements or
%	\item[--] very few ?summary level? use cases (only needed for large systems) containing more ?user-goal level? use cases %containing other ?function level? use cases below (use a use case template for describing use cases)
%	\item[] Alternative:
%	\item[--] an alternative to using the use case granularity for structuring the document, is to group it into logical packages (use cases which belong ''somehow`` together)
%\end{itemize}
\subsection{Plan}
Die Elemente müssen auf einer PCB-Platine untergebracht werden. Das heißt, alle Elemente, außer der Akku, die Antenne und den in das Gehäuse eingelassen LEDs und Tasten, müssen auf einer einzigen PCB- Platine platz finden. Der Grund hierfür liegt einfach darin, dass weniger bewegliche oder steckbare Komponenten im Normalfall eine größere Zuverlässig- und Verträglichkeit des Systems in Hinsicht auf Erschütterungen und Staub gewährleistet. Es wird eine serieller Debug-Schnittstelle über USB bereitgestellt.\\\
Es soll zudem auch möglich sein, über Bluetooth LE die GPS Daten, den Akkustand, den Status(Notruf abgesetzt und wann, Wurde er abgebrochen, wie oft wurde bereits ein Notruf seit dem letzten Neustart ausgelöst) auszulesen. Das heißt, man sollte den dritten Knopf nutzen um das Bluetooth Pairing einzuleiten. So wie sich das externe Gerät mit dem PLB verbunden hat, soll eine blaue LED leuchten und das PLB auf Anfrage des externen Gerätes die beschriebenen Daten liefern. Es soll auch möglich sein, GPS- Korrekturdaten von einer externen Quelle einzuspielen.

\subsection{Hardware}
Das System muss mindestens aus folgendem bestehen:
\begin{itemize}
	\item GNSS-Chip
	\item Bluetooth Chip
	\item COSPAS Sender
	\item Mikrokontroller
	\item Akku
	\item USB-Ladeschaltung
	\item Statusleds: Rot, Gelb, Grün, Blau 
	\item Vibrationsalarm
	\item Drei Tasten
\end{itemize}

\subsection{Funktionsweise Komponenten}
\begin{itemize}
	\item Akkustand mithilfe dreier LEDs
	\item Rote Led wenn Notruf abgebrochen
	\item Gelbe Led wenn Notruf angefordert
	\item Grüne Led wenn Notruf aktiv
	\item Blaue Led wenn Bluetooth aktiv
	\item Gleichzeitige druck(ca. 5 sec.) zwei Tasten setzen den Notruf ab.
	\item Vibrationsalarm wird benutzt als Feedback bei Absetzung und Abbruch eines Notrufs und auch bei aktiven Notruf jede Stunde (dauer ca. 5 sec.)
	\item Mithilfe dritte Taste wird die Aktivierung des Bluetooth pairings gemacht.
\end{itemize}
\subsection{Antenneberechnung}
\lstinputlisting{./plb_antenna_calc.m}

\noindent \textit{\large Introduction} \\
\textit{\large Inputs} \\
\textit{\large Processing} \\
\textit{\large Outputs} \\

\newpage

\section{Andere Nicht-Funktionale Anforderungen}

\subsection{Leistungsanforderungen}
Um ein Absenden eines Notrufsignales sicher zu stellen, muss der Auslöser mit freier Sicht zum Himmel und über Wasser
betätigt werden. \\
Sobald der Sender korrekt bestätigt wurde sollte innerhalb kurzer Zeit [0-3min] ein Notruf über
eine 406 Mhz Frequenz versendet und bei der zuständigen Station empfangen worden sein. Somit kann ein möglichst rasches Eintreffen der Rettungskräfte ermöglicht werden.\\
Des weiteren wird versichert, dass zu jeder Uhrzeit und an jedem Tag der Woche die Empfangsstation besetzt ist und 
auf eintreffende Notrufe reagiert wird.

\subsection{Entwurfsbedingungen}
Design muss so konzipiert sein, dass es von einer gesunden erwachsenen Person ohne Probleme bedient werden kann und 
somit versichert wird, dass das Notfallsignal korrekt abgesendet wird.
\subsection{Software Qualitätsanforderungen}
\subsubsection{Mitführbarkeit}
Sobald das Gerät voll Funktionsfähig ist, wird an der Entwicklung eines tragbaren Designs gearbeitet. Dabei
soll es möglich sein das Gerät ohne jegliche körperlichen Einschränkungen jederzeit am Körper zu tragen.
(Bsp: Armbanduhr, Brustgurt etc...)
\subsubsection{Robustheit}
Vorerst steht die Funktionalität im Vordergrund. Sollte der Prototyp voll Funktionsfähig sein, wird ein einem
wasserdichten[IP55]und Stoßfestem[1.5m|800N] Gehäuse gearbeitet.
\subsubsection{Zuverlässigkeit}
Die Funktion des Gerätes soll zu 99.99{\%} gewährleistet werden, solange man sich beim Senden des Signales im Freien 
befindet, keine Extrembedingungen dem Gerät schaden und freie Sicht zum Himmel ist.
\subsubsection{Sicherheit}
Um sicher zu stellen, dass kein Notruf unabsichtlich abgesetzt wird, müssen um das System zu aktivieren zwei unterschiedliche Aktivierungsmechanismen betätigt werden. (2 Taster an 2 unterschiedlichen Seiten des Geräts)\\
Ebenso wird sobald der Sendemechanismus ausgelöst worden ist ein Vibrationsmotor aktiviert. Dieses haptische Feedback
ermöglicht es zusätzlich den Sendevorgang abzubrechen, falls dieser ungewollt ausgelöst wurde.\\
Das Gerät besteht außerdem aus keinen verschluckbaren Kleinteilen. (Vor der Nutzung des Notfallsenders von Kindern wird dennoch abgeraten) 
\subsubsection{Verfügbarkeit}
Vor der Verwendung (nach dem Kauf) des Geräts muss dieses an einem behördlichen Stelle angemeldet und 
registriert werden!
Danach soll das Gerät jederzeit verwendbar sein, sobald ein Satellitensignal zur Verfügung steht.
\subsubsection{Wartbarkeit / Adaptionsfähigkeit}
Keine Nutzermöglichkeiten zur Wartung notwendig.
Aufladen des Geräts ist über eine USB-Ladestation möglich.
Dies Software muss ausschließlich auf der im Projekt gefertigten Hardware funktionieren.

\subsection{Elektronische Datenverwaltung}
Die Speicherung aller Daten die zur Übertragung per Bluetooth zur Verfügung gestellt werden sollen, werden in 
einem möglichst klein gehaltenem System bearbeitet. Dieses ermöglicht dann mittels eines Protokolls die Übertragung per Bluetooth an ein externes Gerät. (Smartphone)

\subsection{Weitere Anforderungen}
\subsubsection{Kontrollfunktionen}
Mittels Bluetooth ist es möglich die GPS Daten auf seinem Smartphone mitschreiben zu lassen.
Somit lässt sich die richtige Funktion des GPS Empfängers überprüfen.
\subsubsection{Fehlerdokumentation}
Keine Fehlerdokumentation notwendig
\subsubsection {Support und Service}
Es wird kein Support oder Service zur Verfügung gestellt.

\newpage

\section{Analyse Modell}
This chapter describes the complete conceptual model for the problem domain. It lists some must to have content (domain classes, domain model) and some possibly helpful modeling tools. Add/remove models as needed.

\subsection{Domänen Klassen}
For each class specify its name, its purpose in the domain and its properties.

\subsubsection{ClassName1}

\begin{tabular}{| p{2cm} | p{2cm} | p{9.5cm} |}

\hline
Zweck: &  
\multicolumn{2}{p{11.5cm} |}{} \\
\hline

Attribute: & 
PropName & 
Description \\
\hline

\end{tabular}

\subsubsection{ClassName2}

\subsection{System Interactions}
\{Specifiy the system operations, i.e. the interactions of actors with the system, for important use cases as system sequence diagrams, for example\}

\subsection{Konzeptuelles Modell}
\{Specifiy the conceptional class model (domain model)\}

\subsection{Datenmodell}

\subsection{Zustandsdiagramme}

\newpage

\setcounter{secnumdepth}{0}
\section{Anhang}

\subsection{Anhang A: Index}

\subsection{Anhang B: To be determined list}

\end{document}